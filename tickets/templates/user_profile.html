{% extends 'main_base.html' %}

{% block content %}
{% load static %}

<div class="container-md list-group-item-info mt-4">
	<div class="col">
		<h3>Update My Profile</h3>
		<hr class="mb-4">
		
		<form action="{% url 'accounts:url_profile' user.id %}" method="POST" class="row g-3">
			{% csrf_token %}
			
			<!-- Name field -->
			<div class="col-md-6 mb-3">
				<label for="employee_name" class="form-label">Name:</label>
				<input id="employee_name" name="employee_name" value="{{ form.employee_name.value }}" required class="form-control" type="text">
			</div>
			<!-- Department field -->
			<div class="col-md-6 mb-3">
				<label for="department" class="form-label">Department:</label>
				<input id="department" name="department" value="{{ form.department.value }}" required class="form-control" type="text">
			</div>
			<!-- Username field -->
			<div class="col-md-6 mb-3">
				<label for="username" class="form-label">Username:</label>
				<input id="username" name="username" value="{{ form.username.value }}" required class="form-control" type="text">
			</div>

			<!-- Email field -->
			<div class="col-md-6 mb-3">
				<label for="email" class="form-label">Email:</label>
				<input id="email" name="email" value="{{ form.email.value }}" required class="form-control" type="email">
			</div>

			<!-- Phone Number field -->
			<div class="col-md-6 mb-3">
				<label for="phone_number" class="form-label">Phone Number:</label>
				<input id="id_phone_number" name="phone_number" value="{{ form.phone_number.value }}" required class="form-control" type="tel">
			</div>
			<!-- DOB field -->
			<div class="col-md-6 mb-3">
				<label for="birth_date" class="form-label">DOB:</label>
				<input id="birth_date" name="birth_date" value="{{ form.birth_date.value }}" required class="form-control" type="Date">
			</div>

			<!-- Password field -->
			<div class="col-md-6 mb-3">
				<label for="password1" class="form-label">Password:</label>
				<input id="password1" name="password1" value="{{ form.password1.value }}" required class="form-control" type="password">
			</div>

			<!-- Confirm Password field -->
			<div class="col-md-6 mb-3">
				<label for="password2" class="form-label">Confirm Password:</label>
				<input id="password2" name="password2" value="{{ form.password2.value }}" required class="form-control" type="password">
			</div>

			<!-- Submit button -->
			<div>
				<button class="btn btn-primary px-5" type="submit">Update</button>
			</div>
			<div class="mx-auto">
				<a href="{% url 'tickets:ticket_list' %}" class="btn btn-secondary px-5"><i class="icon-undo"></i>Back</a>
			</div>
			

			<!-- Display success and error messages -->
			<div class="row mt-3">
				{% if messages %}
					{% for message in messages %}
						<div class="alert alert-{{ message.tags }} mt-2" role="alert">
							{{ message }}
						</div>
					{% endfor %}
				{% endif %}
			</div>

			<!-- Display form field errors -->
			<div class="row mt-3">
				<ul class="list-unstyled">
					{% for field in form %}
						{% if field.errors %}
							<li class="alert alert-danger" role="alert">
								<strong>{{ field.label }}:</strong> {{ field.errors|striptags }}
							</li>
						{% endif %}
					{% endfor %}
				</ul>
			</div>
		</form>
	</div>
</div>

{% endblock %}